import{_ as T}from"./Unresponsive.db1fbb24.js";import{_ as D,c as I}from"./index.34b38623.js";import{_ as S,a as B,b as N,c as C}from"./Table.52946766.js";import{r as V,o as a,c as h,g as t,m as w,w as e,F as k,f as n,t as u,e as p,d as x,p as z,a as L,b as v}from"./vendor.eebf0573.js";const U={data(){return{dynamic:null,trusted:null,sync:null,info:null,interval:null,timeout:!1,https:window.location.protocol==="https:",host:window.location.host,endpoint:null,shorten_public_key:!0}},mounted(){document.title="Explorer - Pea",this.loop(),setTimeout(()=>{this.timeout=!0},1e3)},unmounted(){clearInterval(this.interval)},methods:{loop(){this.fetchData(),this.interval=setInterval(()=>{this.fetchData()},3e3)},shorten(o){return o.slice(0,12)+"..."+o.slice(-8)},fetchData(){let o=window.localStorage.getItem("endpoint");!o||(fetch(o+"/dynamic").then(s=>s.json()).then(s=>{this.dynamic=s}),fetch(o+"/trusted").then(s=>s.json()).then(s=>{this.trusted=s}),fetch(o+"/sync").then(s=>s.json()).then(s=>{this.sync=s}),fetch(o+"/info").then(s=>s.json()).then(s=>{this.info=s}))}}},b=o=>(z("data-v-3e39790a"),o=o(),L(),o),E={key:0,class:"flex flex-col justify-center mx-auto my-4"},F={key:1,class:"flex flex-col gap-10 my-10 w-full"},P=b(()=>v("div",{class:"flex justify-center text-black"},"General information about Node",-1)),G=n("Synchronization"),H=n("Last\xA0block\xA0seen"),Q=n("Height"),R=n("Tree\xA0size"),q=n("Public\xA0key"),A=n("Time"),J=n("Uptime"),K=n("Tick"),M=b(()=>v("div",{class:"flex justify-center text-black"},"Stakers Queue",-1)),O=b(()=>v("div",{class:"flex justify-center text-black"},"Latest Blocks",-1));function W(o,s,X,Y,l,j){const g=T,r=I,c=S,_=B,i=N,m=V("router-link"),y=C;return a(),h(k,null,[(l.sync===null||l.info===null||l.dynamic===null||l.trusted===null)&&l.timeout?(a(),h("div",E,[t(g,{endpoint:l.endpoint},null,8,["endpoint"])])):w("",!0),l.sync!==null&&l.info!==null&&l.dynamic!==null&&l.trusted!==null?(a(),h("div",F,[t(r,null,{default:e(()=>[P]),_:1}),t(r,null,{default:e(()=>[t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[G]),_:1}),t(_,null,{default:e(()=>[n(u(l.sync.sync),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[H]),_:1}),t(_,null,{default:e(()=>[n(u(l.sync.last),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[Q]),_:1}),t(_,null,{default:e(()=>[n(u(l.sync.height),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[R]),_:1}),t(_,null,{default:e(()=>[n(u(l.info.tree_size),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[q]),_:1}),l.shorten_public_key?(a(),p(_,{key:0,onClick:s[0]||(s[0]=f=>l.shorten_public_key=!1)},{default:e(()=>[n(u(j.shorten(l.info.public_key)),1)]),_:1})):(a(),p(_,{key:1},{default:e(()=>[t(m,{class:"link",to:"/address/"+l.info.public_key},{default:e(()=>[n(u(l.info.public_key),1)]),_:1},8,["to"])]),_:1}))]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[A]),_:1}),t(_,null,{default:e(()=>[n(u(l.info.time),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[J]),_:1}),t(_,null,{default:e(()=>[n(u(l.info.uptime),1)]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(c,{class:"w-60"},{default:e(()=>[K]),_:1}),t(_,null,{default:e(()=>[n(u(l.info.lag)+" ms",1)]),_:1})]),_:1})]),_:1})]),_:1}),t(r,null,{default:e(()=>[M]),_:1}),t(r,null,{default:e(()=>[t(y,null,{default:e(()=>[(a(!0),h(k,null,x(l.dynamic.stakers,(f,d)=>(a(),p(i,{key:(o.hash,d)},{default:e(()=>[t(c,null,{default:e(()=>[n("#"+u(d),1)]),_:2},1024),t(_,{class:"justify-center"},{default:e(()=>[t(m,{class:"link",to:"/address/"+f},{default:e(()=>[n(u(f),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(r,null,{default:e(()=>[O]),_:1}),t(r,null,{default:e(()=>[t(y,null,{default:e(()=>[(a(!0),h(k,null,x([...l.dynamic.latest_hashes,...l.trusted.latest_hashes].concat(),(f,d)=>(a(),p(i,{key:d},{default:e(()=>[t(c,null,{default:e(()=>[n("#"+u(l.sync.height-d),1)]),_:2},1024),t(_,{class:"justify-center"},{default:e(()=>[t(m,{class:"link",to:"/block/"+f},{default:e(()=>[n(u(f),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):w("",!0)],64)}var le=D(U,[["render",W],["__scopeId","data-v-3e39790a"]]);export{le as default};
