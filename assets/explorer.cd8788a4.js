import{_ as g,c as I}from"./index.9478730b.js";import{o,c as p,b as y,t as i,m as u,F as b,f as s,r as B,g as n,w as e,e as c,d as T,p as N,a as C}from"./vendor.eebf0573.js";import{_ as V,a as z,b as E,c as L}from"./Table.666b38ec.js";const F={props:{endpoint:String},data(){return{https:window.location.protocol==="https:",host:window.location.host}}},P={class:"text-center"},U=s("Endpoint "),G=s(" seems unresponsive."),H={key:0,class:"text-center"},Q=s(" Try the "),R=["href"],q=s(" of this website. ");function A(_,l,x,S,t,j){return o(),p(b,null,[y("div",P,[U,y("i",null,i(x.endpoint),1),G]),t.https?(o(),p("div",H,[Q,y("a",{href:"http://"+t.host},"http version",8,R),q])):u("",!0)],64)}var J=g(F,[["render",A]]);const K={data(){return{dynamic:null,trusted:null,sync:null,info:null,interval:null,timeout:!1,https:window.location.protocol==="https:",host:window.location.host,endpoint:null,shorten_public_key:!0}},mounted(){document.title="Explorer - Pea",this.loop(),setTimeout(()=>{this.timeout=!0},1e3)},unmounted(){clearInterval(this.interval)},methods:{loop(){this.fetchData(),this.interval=setInterval(()=>{this.fetchData()},3e3)},shorten(_){return _.slice(0,12)+"..."+_.slice(-8)},fetchData(){let _=window.localStorage.getItem("endpoint");!_||(fetch(_+"/dynamic").then(l=>l.json()).then(l=>{this.dynamic=l}),fetch(_+"/trusted").then(l=>l.json()).then(l=>{this.trusted=l}),fetch(_+"/sync").then(l=>l.json()).then(l=>{this.sync=l}),fetch(_+"/info").then(l=>l.json()).then(l=>{this.info=l}))}}},w=_=>(N("data-v-19bb48b4"),_=_(),C(),_),M={class:"flex flex-col gap-10 my-10 w-full"},O=w(()=>y("div",{class:"flex justify-center text-black"},"General information about Node",-1)),W={key:0,class:"flex flex-col justify-center mx-auto my-4"},X=s("Synchronization"),Y=s("Last\xA0block\xA0seen"),Z=s("Height"),$=s("Tree\xA0size"),ee=s("Public\xA0key"),te=s("Time"),ne=s("Uptime"),se=s("Tick"),oe=w(()=>y("div",{class:"flex justify-center text-black"},"Stakers Queue",-1)),le=w(()=>y("div",{class:"flex justify-center text-black"},"Latest Blocks",-1));function _e(_,l,x,S,t,j){const d=I,D=J,f=V,r=z,a=E,k=B("router-link"),v=L;return o(),p("div",M,[n(d,null,{default:e(()=>[O]),_:1}),n(d,null,{default:e(()=>[!t.sync&&!t.info&&!t.dynamic&&!t.trusted&&t.timeout?(o(),p("div",W,[n(D,{endpoint:t.endpoint},null,8,["endpoint"])])):u("",!0),t.sync&&t.info?(o(),c(v,{key:1},{default:e(()=>[t.sync?(o(),c(a,{key:0},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[X]),_:1}),n(r,null,{default:e(()=>[s(i(t.sync.sync),1)]),_:1})]),_:1})):u("",!0),t.sync?(o(),c(a,{key:1},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[Y]),_:1}),n(r,null,{default:e(()=>[s(i(t.sync.last),1)]),_:1})]),_:1})):u("",!0),t.sync?(o(),c(a,{key:2},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[Z]),_:1}),n(r,null,{default:e(()=>[s(i(t.sync.height),1)]),_:1})]),_:1})):u("",!0),t.info?(o(),c(a,{key:3},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[$]),_:1}),n(r,null,{default:e(()=>[s(i(t.info.tree_size),1)]),_:1})]),_:1})):u("",!0),t.info?(o(),c(a,{key:4},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[ee]),_:1}),t.shorten_public_key?(o(),c(r,{key:0,onClick:l[0]||(l[0]=h=>t.shorten_public_key=!1)},{default:e(()=>[s(i(j.shorten(t.info.public_key)),1)]),_:1})):(o(),c(r,{key:1},{default:e(()=>[n(k,{class:"link",to:"/address/"+t.info.public_key},{default:e(()=>[s(i(t.info.public_key),1)]),_:1},8,["to"])]),_:1}))]),_:1})):u("",!0),t.info?(o(),c(a,{key:5},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[te]),_:1}),n(r,null,{default:e(()=>[s(i(t.info.time),1)]),_:1})]),_:1})):u("",!0),t.info?(o(),c(a,{key:6},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[ne]),_:1}),n(r,null,{default:e(()=>[s(i(t.info.uptime),1)]),_:1})]),_:1})):u("",!0),t.info?(o(),c(a,{key:7},{default:e(()=>[n(f,{class:"w-60"},{default:e(()=>[se]),_:1}),n(r,null,{default:e(()=>[s(i(t.info.lag)+" ms",1)]),_:1})]),_:1})):u("",!0)]),_:1})):u("",!0)]),_:1}),n(d,null,{default:e(()=>[oe]),_:1}),n(d,null,{default:e(()=>[t.dynamic?(o(),c(v,{key:0},{default:e(()=>[(o(!0),p(b,null,T(t.dynamic.stakers,(h,m)=>(o(),c(a,{key:(_.hash,m)},{default:e(()=>[n(f,null,{default:e(()=>[s("#"+i(m),1)]),_:2},1024),n(r,{class:"justify-center"},{default:e(()=>[n(k,{class:"link",to:"/address/"+h},{default:e(()=>[s(i(h),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):u("",!0)]),_:1}),n(d,null,{default:e(()=>[le]),_:1}),n(d,null,{default:e(()=>[t.dynamic&&t.trusted&&t.sync?(o(),c(v,{key:0},{default:e(()=>[(o(!0),p(b,null,T([...t.dynamic.latest_hashes,...t.trusted.latest_hashes].concat(),(h,m)=>(o(),c(a,{key:m},{default:e(()=>[n(f,null,{default:e(()=>[s("#"+i(t.sync.height-m),1)]),_:2},1024),n(r,{class:"justify-center"},{default:e(()=>[n(k,{class:"link",to:"/block/"+h},{default:e(()=>[s(i(h),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):u("",!0)]),_:1})])}var re=g(K,[["render",_e],["__scopeId","data-v-19bb48b4"]]);export{re as default};
